@model MarketPlace.Models.Provider.ProviderViewModel
@{
    ViewBag.Title = "Proveedores OnLine - Consulta Individual";
    Layout = MVC.Desktop.Shared.Views._Layout;

    Model.RenderScripts = false;
}

@*ESTE ES EL ENVUELTO COMPLETO DE MENU LATERAL Y CONTENIDO*@
<div class="POMPProviderGreatWrapper">
    @*ESTE ES QUE TRAE EL PARCIAL QUE PINTA EL MENU LATERAL*@
    <div class="POMPProviderSideMenuWrapper">
        @Html.Partial(MVC.Desktop.Shared.Views._P_ProviderMenu, Model)
    </div>
    <div class="POMPProviderDataWrapper">
        <div class="POMPSearchContainer">
            <div class="SurveyFilterDate">
                @{
                    if (Model.RelatedThidKnowledgeSearch.ThirdKnowledgeResult.Count > 0 && Model.RelatedThidKnowledgeSearch.InitDate.ToString("dd/MM/yyyy") != "01/01/0001" &&
                        Model.RelatedThidKnowledgeSearch.EndDate.ToString("dd/MM/yyyy") != "01/01/0001")
                    {
                        var InitDate = Model.RelatedThidKnowledgeSearch.InitDate.ToString("yyyy-MM-dd");
                        var EndDate = Model.RelatedThidKnowledgeSearch.EndDate.ToString("yyyy-MM-dd");

                        <div>
                            <span>Desde:</span>
                            <input type="date" name="ThirdKnoledge_InitDate" id="ThirdKnowledge_InitDateId" value="@InitDate"/>
                        </div>
                        <div>
                            <span>Hasta:</span>
                            <input type="date" name="ThirdKnowledge_EndDate" id="ThirdKnowledge_EndDateId" value="@EndDate"/>
                        </div>
                    }
                    else
                    {
                        <div>
                            <span>Desde:</span>
                            <input type="date" name="ThirdKnoledge_InitDate" id="ThirdKnowledge_InitDateId" value="" />
                        </div>
                        <div>
                            <span>Hasta:</span>
                            <input type="date" name="ThirdKnowledge_EndDate" id="ThirdKnowledge_EndDateId" value="" />
                        </div>
                    }

                    <input class="POMPButtonsSurvey" type="button" name="ThirdKnowledge_Filter" id="ThirdKnowledge_FilterId" value="Filtrar" />
                }
            </div>
            <div id="ResultSearch">
                @Html.Partial(MVC.Desktop.Shared.Views._TK_Search_Result_Item, Model)
            </div>
        </div>
    </div>
</div>

@{
    Model.RenderScripts = true;
}
@section inlinescripts
{
    @Html.Partial(MVC.Desktop.Shared.Views._P_ProviderMenu, Model)

    <script type="text/javascript">
        $(document).ready(function () {
            Third_KnowledgeSearchObject.Init({
                ObjectId: 'ThirdKnowledge',
                SearchUrl: '@(Url.RouteUrl(MarketPlace.Models.General.Constants.C_Routes_Default,
                            new
                            {
                                controller = MVC.ThirdKnowledge.Name,
                                action = MVC.ThirdKnowledge.ActionNames.TKThirdKnowledgeSearch
                            }))',
            });

            Third_KnowledgeSearchObject.RenderAsync();
        });
    </script>
}