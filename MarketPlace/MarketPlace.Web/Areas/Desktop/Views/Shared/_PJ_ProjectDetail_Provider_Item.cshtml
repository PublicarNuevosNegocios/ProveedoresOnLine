@model MarketPlace.Models.Project.ProjectViewModel

@{
    //get evaluation areas
    var oEvaluationAreas = Model.RelatedProjectConfig.GetEvaluationAreas();
}

@if (!Model.RenderScripts)
{
    <div>
        @if (oEvaluationAreas != null && oEvaluationAreas.Count > 0)
        {
            @foreach (var oAreaItem in oEvaluationAreas)
            {
                //get evaluation items
                var oEvaluationCriteria = Model.RelatedProjectConfig.GetEvaluationCriteria(oAreaItem.EvaluationItemId);

                //get ratting
                decimal oItemRatting = Model.CurrentProjectProvider.GetRatting(oAreaItem.EvaluationItemId);

                <div id="divAreaItem_@oAreaItem.EvaluationItemId">
                    <!--Header Area-->
                    <div>
                        <span>@oAreaItem.EvaluationItemName</span>
                        @switch (oAreaItem.EvaluationItemUnit)
                        {
                            case MarketPlace.Models.General.enumEvaluationItemUnitType.LooseWin:
                                if (oItemRatting >= 100)
                                {
                        <span>Pasa</span>
                                }
                                else
                                {
                        <span>No Pasa</span>
                                }
                                break;
                            case MarketPlace.Models.General.enumEvaluationItemUnitType.Percent:
                                if (oItemRatting >= oAreaItem.AprobalPercent)
                                {
                        <span>@oItemRatting.ToString("#,0.##") %</span>
                        <span>Pasa</span>
                                }
                                else
                                {
                        <span>@oItemRatting.ToString("#,0.##") %</span>
                        <span>No Pasa</span>
                                }
                                break;
                            case MarketPlace.Models.General.enumEvaluationItemUnitType.Informative:
                        <span>@oItemRatting.ToString("#,0.##")</span>
                        <span>Solo es informativo</span>
                                break;
                            default:
                                break;
                        }
                    </div>
                    <!--Items Area-->
                    <div>
                        @foreach (var oEvaluationCriteriaItem in oEvaluationCriteria)
                        {
                            
                        }
                    </div>
                </div>
            }
        }
    </div>
}

