@model MarketPlace.Models.Provider.ProviderBalanceSheetViewModel

@if (Model.AccountType == 2)
{
    <!--Render AccountType text content-->
    <label>@Model.RelatedAccount.ItemName</label>
}

@if (Model.ChildBalanceSheet != null && Model.ChildBalanceSheet.Count > 0)
{
    <!--Render child items-->
    <ul>
        @foreach (var oBalanceInfo in Model.ChildBalanceSheet)
        {
            <li>
                @Html.Partial(MVC.Desktop.Shared.Views._P_FI_BalanceItem, oBalanceInfo)
            </li>
        }
    </ul>
}

@if (Model.AccountType != 2)
{
    <!--Render AccountType value content-->
    if (!string.IsNullOrEmpty(Model.AccountFormula))
    {
        <!--formula field-->
        <div>
            <span>@Model.RelatedAccount.ItemName</span>
            @foreach (var oBalanceValues in Model.RelatedBalanceSheetDetail.Where(x => x.RelatedBalanceSheetDetail != null).OrderBy(x => x.Order))
            {
                <span>
                    @Model.AccountUnit @oBalanceValues.RelatedBalanceSheetDetail.Value.ToString("#,0.##")
                </span>
                <span>
                    @((oBalanceValues.VerticalValue != null ? (decimal)oBalanceValues.VerticalValue : 0).ToString("#,0.##"))
                </span>
            }
            <span>
                @Model.AccountUnit @((Model.HorizontalValue != null ? (decimal)Model.HorizontalValue : 0).ToString("#,0.##"))
            </span>
        </div>
    }
    else
    {
        <span>@Model.RelatedAccount.ItemName</span>
        foreach (var oBalanceValues in Model.RelatedBalanceSheetDetail.Where(x => x.RelatedBalanceSheetDetail != null).OrderBy(x => x.Order))
        {
            <span>
                @Model.AccountUnit @oBalanceValues.RelatedBalanceSheetDetail.Value.ToString("#,0.##")
            </span>
            <span>
                @((oBalanceValues.VerticalValue != null ? (decimal)oBalanceValues.VerticalValue : 0).ToString("#,0.##"))
            </span>
        }
        <span>
            @Model.AccountUnit @((Model.HorizontalValue != null ? (decimal)Model.HorizontalValue : 0).ToString("#,0.##"))
        </span>
    }
}
